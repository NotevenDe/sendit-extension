<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ticktalk Livekit</title>
    <link rel="stylesheet" href="content.css" />
    <style>
      html {
        height: 100%;
        background: #06070a; 
      }
      body {
        margin: 0;
        width: 360px;
        height: 100%;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
        background: radial-gradient(1200px 500px at 20% 0%, rgba(41, 98, 255, 0.18), rgba(0, 0, 0, 0)),
          #06070a;
        color: rgba(255, 255, 255, 0.92);
      }
      @media (min-width: 480px) {
        
        body {
          width: auto;
          min-height: 100vh; 
        }
      }
      .wrap {
        padding: 12px;
      }
      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding: 10px 12px;
        border-radius: 14px;
        background: rgba(0, 0, 0, 0.42);
        border: 1px solid rgba(255, 255, 255, 0.12);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
        backdrop-filter: blur(12px);
      }
      .title {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 800;
        letter-spacing: 0.2px;
      }
      .title-logo {
        display: flex;
        align-items: center;
        flex-shrink: 0;
        width: 18px;
        height: 18px;
      }
      .title-logo svg {
        width: 100%;
        height: 100%;
        display: block;
      }
      .topbar-right {
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }
      .row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        margin-bottom: 10px;
      }
      .badge {
        padding: 6px 8px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.12);
        background: rgba(0, 0, 0, 0.22);
        color: rgba(255, 255, 255, 0.7);
        font-size: 12px;
      }
      .muted {
        margin-top: 10px;
        color: rgba(255, 255, 255, 0.65);
        font-size: 12px;
        line-height: 1.45;
      }
      .panel {
        margin-top: 12px;
        padding: 12px 12px;
        border-radius: 14px;
        background: rgba(0, 0, 0, 0.42);
        border: 1px solid rgba(255, 255, 255, 0.10);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
        backdrop-filter: blur(12px);
      }
      .kv {
        display: grid;
        grid-template-columns: 86px 1fr;
        gap: 8px 10px;
        align-items: center;
        margin-top: 6px;
        font-size: 12px;
      }
      .kv .k {
        color: rgba(255, 255, 255, 0.62);
      }
      .kv .v {
        color: rgba(255, 255, 255, 0.92);
        word-break: break-all;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="topbar">
        <div class="title">
            <span class="title-logo">
              <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"><g fill="none"><path fill="#d7e0ff" d="M4.836 10.844c-2.235 0-3.435-1.5-3.845-2.962C.798 7.195.757 6.546.757 5.845c0-2.645 2.38-4.772 5.022-4.892q.61-.03 1.228-.03t1.227.03c2.642.12 4.75 2.089 4.959 4.892c.134 1.802 0 3.626-.4 5.539c-.2.949-.615 1.559-1.286 1.559c-.302 0-.763-.97-1.069-.942c-.314.027-.866 1.076-1.561 1.076s-1.297-.992-1.63-1.01c-.51-.026-.956.876-1.326.876c-.626 0-.988-.834-1.085-2.1Z"/><path stroke="#4147d5" stroke-linecap="round" stroke-linejoin="round" d="M4.836 10.844c-2.235 0-3.435-1.5-3.845-2.962C.798 7.195.757 6.546.757 5.845c0-2.645 2.38-4.772 5.022-4.892q.61-.03 1.228-.03q.617 0 1.227.03c2.642.12 4.75 2.089 4.959 4.892c.134 1.802 0 3.626-.4 5.539c-.2.949-.615 1.559-1.286 1.559c-.302 0-.763-.97-1.069-.942c-.314.027-.866 1.076-1.561 1.076s-1.297-.992-1.63-1.01c-.51-.026-.956.876-1.326.876c-.626 0-.988-.834-1.085-2.1Zm2.457-5.008V6.93m3.219-1.094V6.93" stroke-width="1"/></g></svg>
            </span>
            Sendit



        </div>
        <div class="topbar-right">
          <div class="badge" id="badge">-</div>
          <button class="tv-danmaku-iconbtn" id="pinToSidePanel" type="button" title="固定到右侧 Side Panel" aria-label="固定到右侧 Side Panel">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
     
                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 10V8c0-2.761 1.239-5 4-5s4 2.239 4 5v2M3.5 17.8v-4.6c0-1.12 0-1.68.218-2.107a2 2 0 0 1 .874-.875c.428-.217.988-.217 2.108-.217h10.6c1.12 0 1.68 0 2.108.217a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108v4.6c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C18.98 21 18.42 21 17.3 21H6.7c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C3.5 19.481 3.5 18.921 3.5 17.8"/></svg>


          </button>
        </div>
      </div>

      <div id="voiceRoot" style="margin-top: 12px"></div>

    </div>

    
    <script src="popup_init.js"></script>
    <script src="../vendor/livekit-client.umd.js"></script>
    <script src="../vendor/canvas-confetti.browser.js"></script>
    <script src="../voice/voice_livekit.js"></script>
    <script src="../voice/voice_lobby_ui.js"></script>
    <script src="../voice/voice_room_ui.js"></script>
    <script src="../voice/voice_ui.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
